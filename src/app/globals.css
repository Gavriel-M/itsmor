@import "tailwindcss";
@import "text-cascade/styles";

@theme {
  --color-background: #f2f0e6;
  --color-text: #1a1a1a;
  --color-terracotta: #b85b40;
  --color-lapis: #004e98;
  --color-gold: #ffd700;
  --color-amber: #ffbf00;

  --font-sans:
    var(--font-inter), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    var(--font-plex-mono), ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, "Liberation Mono", "Courier New", monospace;

  --spacing-1: 4px;
  --spacing-2: 8px;
}

:root {
  --grid-cell: 4rem; /* 64px */
  --cascade-glow-color: var(--color-gold);
}

/* 
  Tailwind v4 CSS-first configuration.
*/

body {
  background-color: var(--color-background);
  color: var(--color-text);
  font-family: var(--font-sans);
}

/* Lapis scrollbars */
* {
  scrollbar-color: var(--color-lapis) transparent;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-lapis);
  border-radius: 4px;
}

/* Suppress default browser outline on mouse/touch focus */
:focus:not(:focus-visible) {
  outline: none;
}

/* Keyboard focus indicator */
:focus-visible {
  outline: 2px solid var(--color-terracotta);
  outline-offset: 3px;
  border-radius: 6px;
}

/* Performance-optimized CSS animations for ScrollNavigationLoader */
@keyframes bounce-gentle {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(4px);
  }
}

@keyframes pulse-slow {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

/* Covers viewport with terracotta during hard-navigation recovery,
   before React hydrates and the transition bars take over. */
html.transition-recovery body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  background-color: var(--color-terracotta);
  pointer-events: none;
}

